/*
html, body {
	height: 100%;
}
*/
.dynBlock {
	margin:0;
}
.article-full {
	margin-top:0;
	text-align:center;
	background-color:#fff;
	
	.main-content {
		@extend .content-wrapper;
		text-align:left;

		h1 {
			@extend h2;
		}
	}

	> *:nth-child(n+2) {
		margin-top: rhythm(6);
	}
}

.article-header {
	text-align:left;
	background-repeat: no-repeat;
	background-position: 50% 0;
	padding-top: rhythm(2);
	padding-bottom: rhythm(4);

	.content-block {
		.elm-image {
			img {
				max-width: none;
				opacity: 0;
			}
		}
		.elm-content {
			h1 {
				@include adjust-font-size-to($size-xxxl);
			}
			p {
				@include adjust-font-size-to($size-lg);
				color: $color-primary;
				font-weight: 300;
			}
		}
	}
}


.type-article {
	
	.article-header {
		background-color: $color-background;
	}

	.main-content {
		max-width: 636px;
		margin-left: auto;
		margin-right: auto;

		@include layout(6 6, $gutter: 1.25) {
			.content-block {

				.elm-image {
					margin-bottom: rhythm(4);

					&.full-width {
						@include grid-span(2, 1);
					}

					&.inline-left {
						clear:left;
						@include float-span(1, 1);
					}
				}
				.elm-content {
					width:auto;
					float:none;
					clear:none;
					display:inline;
				}
			}
		}
	}

	
	.article-header {
		@include breakpoint($sm, true) {
		
			padding-top: 0;
			padding-bottom: 0;
			background-image:none !important;

			@include layout(6 6, $gutter:60/68) {
				.content-block {
					position: relative;
					margin-top: rhythm(8);
					margin-bottom: rhythm(8);

					.elm-image {
						position:relative;
						@include grid-span(1,2);
						height: 645px;
						overflow:hidden;

						transition-property: position,margin,transform,top,right,bottom,left,opacity;
						transition-duration: 0.5s;

						img {
							position: absolute;
							opacity:1;
							left: 50%;
							height: 100%;
							transform: translate(-50%,0);
						}

					}
					.elm-content {
						position:absolute;
						bottom: 0;
						transform: translate(0, -25%);
						transition: all .5s;
						@include grid-span(1,1);
					}
				}
			}


			@include breakpoint($md, true) {
				.content-block {
					.elm-content {
						transform: translate(0, -45%);
					}
				}

			}
		}
	}
/*
	.scroll-top:not(.legacy) & {
		

		@include breakpoint($sm, true) {
			height:100%; 

			.article-header {
				height:100%; 
				position:relative;
				
				.content-wrapper,
				.content-block {
					position: relative;
					overflow: visible;
					margin:0;
					padding:0;
					width:100%;
					height:100%;
					max-width: none;

				}

				.content-block {

					.elm-content {
						position:absolute;
						top:50%;
						left:50%;
						width: $sm;
						margin: 0;
						z-index:5;
						transform: translate(-50%,-50%);

						> *:nth-child(n+2) {
							position:absolute;
							bottom:0;
							opacity: 0;
						}
					}
					.elm-image {
						position:absolute;
						top:0;
						left:0;
						right:0;
						bottom:0;
						width:100%;
						height:100%;
						margin:0;
						overflow: hidden;
						z-index: 4;
						opacity: .6;

						img {
							position:absolute;
							opacity: 1;
							width:auto;
							height:auto;
							min-width: 100%;
							min-height: 100%;
							transform: translate(-50%,0);
							top:0;
							margin:0;
							
						}
					}
				}
			}

		}
		
	}

	*/
}

.type-product {

	.article-header {
		text-align:left;
		padding-top: 0;
		padding-bottom: 0;


		.content-block {
			position:relative;
			overflow: visible;

			.elm-image,
			.elm-content {
				width:auto;
				margin:0;
				float:none;
				clear:none;
			}

			.elm-image {
				margin: 0 (-1 * $content-margin);

				@include background-image(linear-gradient(to bottom, $light-gray 0%, $light-gray 71.8181%, #fff 71.8181%, #fff 100%));

				img {
					display:block;
					max-width: 100%;
					opacity: 1;
				}
			}
			.elm-content {
				margin-top: -10%;

				h1 {
					@include adjust-font-size-to($size-xxxl);
				}
				p {
					@include adjust-font-size-to($size-lg);
					color: $color-primary;
					font-weight: 300;
				}
			}
			.elm-actions {
				position:absolute;
				top: rhythm(6);
				width: 100%;
				text-align: center;

				a {
					@extend %button;
					font-family: $font-header;
					font-weight: $light;
				}
			}
		}
	}
	@include breakpoint($sm, true) {
		.article-header {
			@include background-image(linear-gradient(to bottom, $light-gray 0%, $light-gray 71.8181%, #fff 71.8181%, #fff 100%));
			margin-bottom: rhythm(10);

			.content-block {
				overflow: hidden;

				.elm-image {
					background:none;
				}
				.elm-content {
					position:absolute; 
					margin-top:0;
					top: 9%;
				}
				.elm-actions {
					top: auto;
					bottom: rhythm(2);
				}
			}

		}
		.main-content {
			@include layout(6 6, $gutter: 1.25) {
				.content-block {

					.elm-image {
						@include grid-span(1, 2);
					}
					.elm-content {
						@include grid-span(1, 1);
					}
				}
			}
		}
	}
}


.banner {
	background: $color-background;
	
	.content-wrapper {
		margin-top:rhythm(4);
		padding-top: rhythm(6);
		padding-bottom: rhythm(6);
	}

	h1 {
		@include adjust-font-size-to($size-xxxl);
	}

	.elm-content {
		float:none;
		width: auto;
		margin:0 auto;
		max-width: 636px;
	}

}



.related {
	background-color: $color-background;

	
	.content-wrapper > *,
	.content-wrapper > .flexslider .slides > li {
		margin-top: rhythm(6);
		margin-bottom: rhythm(6);
	}

	.content-wrapper > .flexslider {
		margin:0  (-1 * $content-margin);

		.slides > li .content-block {
			margin:0 $content-margin;
		}
	}

	.flex-direction-nav {
		display:none;
	}
	.flex-control-nav {
		bottom: rhythm(2);
	}


	@include breakpoint($sm, true) {


		.flex-direction-nav {
			display:block;
		}
		.flex-control-nav {
			display:none;
		}

		@include layout(6 6, $gutter:60/68) {
			.content-block {
				.elm-image {
					@include grid-span(1,1);
				}
				.elm-content {
					@include grid-span(1,2);
				}
			}
		}
	}
	
}

.features {
	background: $color-background;

	ul {
		margin:rhythm(6) 0;
		padding:0;
		list-style: none;
	}

	li {
		padding-left:100px;
		overflow: hidden;

		&:nth-child(n+2) {
			margin-top: rhythm(4);
		}
	}

	.icon {
		display:inline;
		float:left;
		margin-left: -100px;
		width: 80px;
		height: 80px;
		font-size: 80px;
	}


	@include breakpoint($md, true) {
		ul {
			display: table;
			width: 100%;
			table-layout: fixed;
		}
		li {
			display: table-cell;
			vertical-align: top;
			text-align: left;
			padding-right: gutter-span();
			margin-top: 0;
		}
		.icon {
			margin-top: rhythm(2);
		}
	}
}

.facts {
	@extend .content-wrapper;
	max-width: $xs;


	.flex-direction-nav {
		display:none;
	}
	.flex-control-nav {
		position: static;
		bottom: auto;
		margin: rhythm(2) 0 rhythm(10);

		ul {
			counter-reset: element;
		}
		li {
			counter-increment: element;
		}

		.flex-active {
			position:relative;

	      &:before {
	        content: '';
	        width: 1px;
	        height: 20px;
	        position: absolute;
	        left: 50%;
	        margin-left: 0px;
	        background-color: $color-primary;
	        bottom: -20px;
	      }

	      &:after {
	        content: counter(element);
	        text-align: center;
	        text-indent: 0;
	        position: absolute;
	        font-size: 28px;
	        font-family: $font-header;
	        color: $color-primary;
	        font-weight: $light;
	        bottom:-64px;
	        left: 50%;
	        line-height: 44px;
	        width: 44px;
	        height: 44px;
	        box-shadow: inset 0 0 0 1px $color-primary;
	        border-radius: 44px;
	        margin-left: -22px;
	      }
	    }

	}

}